<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <f:view locale="#{lokalizacija.odabraniJezik}">

        <body>

            <ui:composition template="./predlozak.xhtml">

                <ui:define name="naslov">
                    #{m.registracija_naslov}
                </ui:define>

                <ui:define name="top">
                    #{m.registracija_naslov}
                </ui:define>

                <ui:define name="left">
                    <h:link value="#{m.navigacija_promjenaJezika}" outcome="jezik" /><br/>
                </ui:define>

                <ui:define name="content">
                    <p:fieldset legend="#{m.registracija_naslov}" toggleable="true" toggleSpeed="500">
                        <p:ajax event="toggle" listener="#{registracija.handleToggle}" />
                        <h:panelGrid id="greske">
                            #{registracija.prikazOdgovora}
                        </h:panelGrid>
                        <h:form>
                            <h:panelGrid columns="2" cellpadding="7">
                                <h:outputLabel value="#{m.registracija_korisnickoIme}" />
                                <p:inputText id="korisnickoIme" value="#{registracija.korisnickoIme}"/>
                                <h:outputText value="#{m.registracija_lozinka}" />
                                <p:password id="lozinka" value="#{registracija.lozinka}" feedback="true" />
                                <h:outputLabel value="#{m.registracija_lozinkaPonovljena}" />
                                <p:password id="ponovljenaLozinka" value="#{registracija.ponovljenaLozinka}" />
                                <h:outputLabel value="#{m.registracija_prezime}" />
                                <p:inputText id="prezime" value="#{registracija.prezime}"/>
                                <h:outputLabel value="#{m.registracija_email}" />
                                <p:inputText id="email" value="#{registracija.email}"/>
                                <p:commandButton value="#{m.registracija_spremi}" action="#{registracija.dodajKorisnika()}" ajax="false" icon="ui-icon-check" validateClient="true">
                                    <f:ajax render="greske"/>
                                </p:commandButton>
                            </h:panelGrid>
                        </h:form>
                    </p:fieldset>
                    <h:form>
                        <p:fieldset legend="#{m.registracija_prijava}" toggleable="true" toggleSpeed="500">
                            <p:ajax event="toggle" listener="#{registracija.handleToggle}" />
                            <h:panelGrid id="greske">
                                #{registracija.greska}
                            </h:panelGrid>
                            <h:panelGrid columns="2" cellpadding="7">
                                <h:outputLabel value="#{m.registracija_korisnickoIme}" />
                                <p:inputText id="prijavaKorisnickoIme" value="#{registracija.prijavaKorisnickoIme}"/>
                                <h:outputLabel value="#{m.registracija_lozinka}" />
                                <p:password id="prijavaLozinka" value="#{registracija.prijavaLozinka}" />
                                <p:commandButton value="#{m.registracija_prijava}" action="#{registracija.logiranje()}" ajax="false" icon="ui-icon-check" validateClient="true">
                                    <f:ajax render="greske"/>
                                </p:commandButton>
                            </h:panelGrid>
                        </p:fieldset>
                    </h:form>
                </ui:define>

                <ui:define name="bottom">
                    bottom
                </ui:define>

            </ui:composition>

        </body>
    </f:view>
</html>
